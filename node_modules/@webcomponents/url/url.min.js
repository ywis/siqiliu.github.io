(function(){
'use strict';(function(x){function u(b){""==b&&(p.call(this),this.c=!0);return b.toLowerCase()}function v(b){var f=b.charCodeAt(0);return 32<f&&127>f&&-1==[34,35,60,62,63,96].indexOf(f)?b:encodeURIComponent(b)}function B(b){var f=b.charCodeAt(0);return 32<f&&127>f&&-1==[34,35,60,62,96].indexOf(f)?b:encodeURIComponent(b)}function l(b,f,e){function g(C){D.push(C)}var d=f||"scheme start",m=0,c="",y=!1,w=!1,D=[];a:for(;(void 0!=b[m-1]||0==m)&&!this.c;){var a=b[m];switch(d){case "scheme start":if(a&&r.test(a))c+=
a.toLowerCase(),d="scheme";else if(f){g("Invalid scheme.");break a}else{c="";d="no scheme";continue}break;case "scheme":if(a&&E.test(a))c+=a.toLowerCase();else if(":"==a){this.b=c;c="";if(f)break a;void 0!==k[this.b]&&(this.m=!0);d="file"==this.b?"relative":this.m&&e&&e.b==this.b?"relative or authority":this.m?"authority first slash":"scheme data"}else if(f){void 0!=a&&g("Code point not allowed in scheme: "+a);break a}else{c="";m=0;d="no scheme";continue}break;case "scheme data":"?"==a?(this.i="?",
d="query"):"#"==a?(this.l="#",d="fragment"):void 0!=a&&"\t"!=a&&"\n"!=a&&"\r"!=a&&(this.o+=v(a));break;case "no scheme":if(e&&void 0!==k[e.b]){d="relative";continue}else g("Missing scheme."),p.call(this),this.c=!0;break;case "relative or authority":if("/"==a&&"/"==b[m+1])d="authority ignore slashes";else{g("Expected /, got: "+a);d="relative";continue}break;case "relative":this.m=!0;"file"!=this.b&&(this.b=e.b);if(void 0==a){this.f=e.f;this.h=e.h;this.g=e.g.slice();this.i=e.i;this.j=e.j;this.a=e.a;
break a}else if("/"==a||"\\"==a)"\\"==a&&g("\\ is an invalid code point."),d="relative slash";else if("?"==a)this.f=e.f,this.h=e.h,this.g=e.g.slice(),this.i="?",this.j=e.j,this.a=e.a,d="query";else if("#"==a)this.f=e.f,this.h=e.h,this.g=e.g.slice(),this.i=e.i,this.l="#",this.j=e.j,this.a=e.a,d="fragment";else{d=b[m+1];var h=b[m+2];if("file"!=this.b||!r.test(a)||":"!=d&&"|"!=d||void 0!=h&&"/"!=h&&"\\"!=h&&"?"!=h&&"#"!=h)this.f=e.f,this.h=e.h,this.j=e.j,this.a=e.a,this.g=e.g.slice(),this.g.pop();d=
"relative path";continue}break;case "relative slash":if("/"==a||"\\"==a)"\\"==a&&g("\\ is an invalid code point."),d="file"==this.b?"file host":"authority ignore slashes";else{"file"!=this.b&&(this.f=e.f,this.h=e.h,this.j=e.j,this.a=e.a);d="relative path";continue}break;case "authority first slash":if("/"==a)d="authority second slash";else{g("Expected '/', got: "+a);d="authority ignore slashes";continue}break;case "authority second slash":d="authority ignore slashes";if("/"!=a){g("Expected '/', got: "+
a);continue}break;case "authority ignore slashes":if("/"!=a&&"\\"!=a){d="authority";continue}else g("Expected authority, got: "+a);break;case "authority":if("@"==a){y&&(g("@ already seen."),c+="%40");y=!0;for(a=0;a<c.length;a++)h=c[a],"\t"==h||"\n"==h||"\r"==h?g("Invalid whitespace in authority."):":"==h&&null===this.a?this.a="":(h=v(h),null!==this.a?this.a+=h:this.j+=h);c=""}else if(void 0==a||"/"==a||"\\"==a||"?"==a||"#"==a){m-=c.length;c="";d="host";continue}else c+=a;break;case "file host":if(void 0==
a||"/"==a||"\\"==a||"?"==a||"#"==a){2!=c.length||!r.test(c[0])||":"!=c[1]&&"|"!=c[1]?(0!=c.length&&(this.f=u.call(this,c),c=""),d="relative path start"):d="relative path";continue}else"\t"==a||"\n"==a||"\r"==a?g("Invalid whitespace in file host."):c+=a;break;case "host":case "hostname":if(":"!=a||w)if(void 0==a||"/"==a||"\\"==a||"?"==a||"#"==a){this.f=u.call(this,c);c="";d="relative path start";if(f)break a;continue}else"\t"!=a&&"\n"!=a&&"\r"!=a?("["==a?w=!0:"]"==a&&(w=!1),c+=a):g("Invalid code point in host/hostname: "+
a);else if(this.f=u.call(this,c),c="",d="port","hostname"==f)break a;break;case "port":if(/[0-9]/.test(a))c+=a;else if(void 0==a||"/"==a||"\\"==a||"?"==a||"#"==a||f){""!=c&&(c=parseInt(c,10),c!=k[this.b]&&(this.h=c+""),c="");if(f)break a;d="relative path start";continue}else"\t"==a||"\n"==a||"\r"==a?g("Invalid code point in port: "+a):(p.call(this),this.c=!0);break;case "relative path start":"\\"==a&&g("'\\' not allowed in path.");d="relative path";if("/"!=a&&"\\"!=a)continue;break;case "relative path":if(void 0!=
a&&"/"!=a&&"\\"!=a&&(f||"?"!=a&&"#"!=a))"\t"!=a&&"\n"!=a&&"\r"!=a&&(c+=v(a));else{"\\"==a&&g("\\ not allowed in relative path.");if(h=q[c.toLowerCase()])c=h;".."==c?(this.g.pop(),"/"!=a&&"\\"!=a&&this.g.push("")):"."==c&&"/"!=a&&"\\"!=a?this.g.push(""):"."!=c&&("file"==this.b&&0==this.g.length&&2==c.length&&r.test(c[0])&&"|"==c[1]&&(c=c[0]+":"),this.g.push(c));c="";"?"==a?(this.i="?",d="query"):"#"==a&&(this.l="#",d="fragment")}break;case "query":f||"#"!=a?void 0!=a&&"\t"!=a&&"\n"!=a&&"\r"!=a&&(this.i+=
B(a)):(this.l="#",d="fragment");break;case "fragment":void 0!=a&&"\t"!=a&&"\n"!=a&&"\r"!=a&&(this.l+=a)}m++}}function p(){this.j=this.o=this.b="";this.a=null;this.h=this.f="";this.g=[];this.l=this.i="";this.m=this.c=!1}function n(b,f){void 0===f||f instanceof n||(f=new n(String(f)));this.s=b;p.call(this);l.call(this,this.s.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,""),null,f)}var z=!1;try{var A=new URL("b","http://a");A.pathname="c%20d";z="http://a/c%20d"===A.href}catch(b){}if(!z){var k=Object.create(null);
k.ftp=21;k.file=0;k.gopher=70;k.http=80;k.https=443;k.ws=80;k.wss=443;var q=Object.create(null);q["%2e"]=".";q[".%2e"]="..";q["%2e."]="..";q["%2e%2e"]="..";var r=/[a-zA-Z]/,E=/[a-zA-Z0-9\+\-\.]/;n.prototype={toString:function(){return this.href},get href(){if(this.c)return this.s;var b="";if(""!=this.j||null!=this.a)b=this.j+(null!=this.a?":"+this.a:"")+"@";return this.protocol+(this.m?"//"+b+this.host:"")+this.pathname+this.i+this.l},set href(b){p.call(this);l.call(this,b)},get protocol(){return this.b+
":"},set protocol(b){this.c||l.call(this,b+":","scheme start")},get host(){return this.c?"":this.h?this.f+":"+this.h:this.f},set host(b){!this.c&&this.m&&l.call(this,b,"host")},get hostname(){return this.f},set hostname(b){!this.c&&this.m&&l.call(this,b,"hostname")},get port(){return this.h},set port(b){!this.c&&this.m&&l.call(this,b,"port")},get pathname(){return this.c?"":this.m?"/"+this.g.join("/"):this.o},set pathname(b){!this.c&&this.m&&(this.g=[],l.call(this,b,"relative path start"))},get search(){return this.c||
!this.i||"?"==this.i?"":this.i},set search(b){!this.c&&this.m&&(this.i="?","?"==b[0]&&(b=b.slice(1)),l.call(this,b,"query"))},get hash(){return this.c||!this.l||"#"==this.l?"":this.l},set hash(b){this.c||(b?(this.l="#","#"==b[0]&&(b=b.slice(1)),l.call(this,b,"fragment")):this.l="")},get origin(){var b;if(this.c||!this.b)return"";switch(this.b){case "data":case "file":case "javascript":case "mailto":return"null"}return(b=this.host)?this.b+"://"+b:""}};var t=x.URL;t&&(n.createObjectURL=function(b){return t.createObjectURL.apply(t,
arguments)},n.revokeObjectURL=function(b){t.revokeObjectURL(b)});x.URL=n}})(window);
}).call(self);

//# sourceMappingURL=url.min.js.map
