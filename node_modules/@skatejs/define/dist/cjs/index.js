"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ctorToNameMap = new WeakMap();
function dashcase(str) {
    return str.split(/([_A-Z])/).reduce(function (one, two, idx) {
        var dash = !one || idx % 2 === 0 ? '' : '-';
        two = two === '_' ? '' : two;
        return "" + one + dash + two.toLowerCase();
    });
}
function format(prefix, suffix) {
    return ((prefix.indexOf('-') === -1 ? "x-" + prefix : prefix) +
        (suffix ? "-" + suffix : ''));
}
function default_1(ctor) {
    var currentName = getName(ctor);
    if (!currentName) {
        ctorToNameMap.set(ctor, (currentName = generateName(ctor.name)));
    }
    if (!customElements.get(currentName)) {
        customElements.define(currentName, ctor);
    }
    return ctor;
}
exports.default = default_1;
function getName(ctor) {
    return ctor.is || ctorToNameMap.get(ctor);
}
exports.getName = getName;
function generateName(prefix) {
    prefix = dashcase(prefix || 'element');
    var suffix = 0;
    while (customElements.get(format(prefix, suffix)))
        ++suffix;
    return format(prefix, suffix);
}
exports.generateName = generateName;
